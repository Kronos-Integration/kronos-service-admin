{
  "name": "admin",
  "description": "flow administration",
  "type": "kronos-flow",
  "autostart": true,
  "steps": {
    "http": {
      "type": "kronos-http-routing",
      "listener": "admin",
      "endpoints": {
        "a": {
          "serviceName": "loadFlow",
          "path": "/flow",
          "method": "PUT",
          "target": "control/in",
          "interceptors": [{
            "type": "koa-request"
          }]
        },
        "b": {
          "path": "/flow/:id/start",
          "method": "POST",
          "target": "control/command",
          "interceptors": [{
            "type": "koa-data-request",
            "data": {
              "flow": "${id}",
              "action": "start"
            }
          }]
        },
        "c": {
          "path": "/flow/:id/stop",
          "method": "POST",
          "target": "control/command",
          "interceptors": [{
            "type": "koa-data-request",
            "data": {
              "flow": "${id}",
              "action": "stop"
            }
          }]
        },
        "d": {
          "path": "/flow/:id",
          "method": "DELETE",
          "target": "control/command",
          "interceptors": [{
            "type": "koa-data-request",
            "data": {
              "flow": "${id}",
              "action": "delete"
            }
          }]
        },
        "e": {
          "serviceName": "getFlow",
          "path": "/flow/:id",
          "method": "GET",
          "target": "control/command",
          "interceptors": [{
            "type": "koa-data-request",
            "data": {
              "flow": "${id}",
              "action": "get"
            }
          }]
        }
      }
    },
    "control": {
      "type": "kronos-flow-control"
    }
  }
}
