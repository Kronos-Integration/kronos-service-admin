{
  "name": "admin",
  "description": "flow administration",
  "type": "kronos-flow",
  "autostart": true,
  "steps": {
    "http": {
      "type": "kronos-http-routing",
      "listener": "admin",
      "routes": {
        "/flow": {
          "method": "POST",
          "target": "control1/in"
        },
        "/flow/:id/start": {
          "method": "POST",
          "target": "control2/command",
          "content": {
            "flow": "${id}",
            "action": "start"
          }
        },
        "/flow/:id/stop": {
          "method": "POST",
          "target": "control3/command",
          "content": {
            "flow": "${id}",
            "action": "stop"
          }
        },
        "/flow/:id": {
          "method": "DELETE",
          "target": "control4/command",
          "content": {
            "flow": "${id}",
            "action": "delete"
          }
        }
      }
    },
    "control1": {
      "type": "kronos-flow-control"
    },
    "control2": {
      "type": "kronos-flow-control"
    },
    "control3": {
      "type": "kronos-flow-control"
    },
    "control4": {
      "type": "kronos-flow-control"
    }
  }
}
